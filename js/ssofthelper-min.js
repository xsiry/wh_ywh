(function(d,c){c.AddMumberText=function(j,i){var h,g,f;try{h=j.toString().split(".")[1].length}catch(k){h=0}try{g=i.toString().split(".")[1].length}catch(k){g=0}f=Math.pow(10,Math.max(h,g));return(j*f+i*f)/f};c.isNumber=function(g){if(!g){return false}var h=/^\d+(\.\d+)?$/;if(!h.test(g)){return false}try{if(parseFloat(g)!=g){return false}}catch(f){return false}return true};c.sequenceNumber=function(f){return(f.toInt()+1).toTime()};c.getStrNumber=function(f){if(isNumber(f)){return f}else{return 0}};c.negativeToZero=function(f){var g=parseInt(f,10);return g<-1?0:g};c.isNull=function(f){return(f==undefined||f==""||f==null)};c.getNotNullStr=function(f){if(c.isNull(f)){return""}else{return f}};c.smallFormatTime=function(f){if(c.isNull(f)){return""}return f.substr(0,f.indexOf(" "))};c.getZhDateFormat=function(f){if(c.isNull(f)){return""}return new Date(c.smallFormatTime(f)).Format("yyyy\u5e74MM\u6708dd")};c.unicode2Char=function(f){if(f!=undefined){return(f.replace(/\\/g,"%"))}else{return f}};c.trim=function(f){if(f!=undefined){return f.replace(/(^\s*)|(\s*$)/g,"")}else{return f}};c.ltrim=function(f){if(f!=undefined){return f.replace(/(^\s*)/g,"")}else{return f}};c.rtrim=function(f){if(f!=undefined){return f.replace(/(\s*$)/g,"")}else{return f}};c.NewWindows=function(){if(d("#newwindows").length<=0){d("body").append('<div id="newwindows"></div>')}d("#newwindows").append('<div id="mydialogdiv" style="overflow:auto"><div id="mytargetdiv"></div></div>')};c.NewWindowsForm=function(f){if(!f){f="formauto"}if(d("#newwindows").length<=0){d("body").append('<div id="newwindows"></div>')}if(d("#mydialogdiv",d("#newwindows")).length<=0){d("#newwindows").append('<div id="mydialogdiv" style="overflow:hidden;"></div>')}if(d("#"+f,d("#mydialogdiv")).length<=0){d("#mydialogdiv").append('<form id="'+f+'"> </form> ')}};c.GetUrlParms=function(g){var h=location.search;if(!h){h=location.hash}var m=h.substr(h.indexOf("?")+1);var l=m.split("&");for(var j=0;j<l.length;j++){var n=l[j].indexOf("=");if(n==-1){continue}var f=l[j].substring(0,n);var k=l[j].substring(n+1);if(f==g){return k}}return null};c.AjaxSendData=function(h,i,g,j,f){d.ajax({type:"post",url:h,data:i,cache:false,dataType:"json",success:function(k){if(k.success){if(j){j(k)}if(g){g.reload()}}else{d.ligerDialog.error(k.msg);if(f==true){if(j){j(k)}}}},error:function(k,m,l){d.ligerDialog.alert("\u8bf7\u6c42\u5bf9\u8c61XMLHttpRequest: "+k.responseText+" ,\u9519\u8bef\u7c7b\u578btextStatus: "+m+",\u5f02\u5e38\u5bf9\u8c61errorThrown: "+l);if(f==true){if(j){j(message)}}}})};c.AjaxDialogSendData=function(h,f,g){d.ajax({type:"post",url:h,data:f,cache:false,dataType:"json",success:function(i){if(i.success==false){d.ligerDialog.error(i.msg)}else{if(g){g.closeWin(true)}}},error:function(i,k,j){d.ligerDialog.alert("\u8bf7\u6c42\u5bf9\u8c61XMLHttpRequest: "+i.responseText+",\u9519\u8bef\u7c7b\u578btextStatus: "+k,"\u5f02\u5e38\u5bf9\u8c61errorThrown: "+j)}})};c.deleteData=function(f,g,h,j,i){if(!i){i="\u786e\u5b9a\u5220\u9664\u6570\u636e?"}if(f==""){f="ssoftPublicDelete"}d.ligerDialog.confirm(i,function(k){if(k){d.ajax({type:"post",url:f,data:g,cache:false,dataType:"json",success:function(l){if(h){h.reload()}if(j){j(l)}},error:function(l,n,m){d.ligerDialog.alert("\u8bf7\u6c42\u5bf9\u8c61XMLHttpRequest: "+l.responseText+",\u9519\u8bef\u7c7b\u578btextStatus: "+n,"\u5f02\u5e38\u5bf9\u8c61errorThrown: "+m)}})}})};c.resetFilterGroup=function(f){f=d(f);if(!f.length){return}d(":input",f).not(":submit, :reset, :image,:button, [disabled]").each(function(){if(!this.name){return}if(d.trim(d(this).val())==""){return}var i=d(this).attr("ltype");var h=d(this).attr("ligerui"),g;if(i=="select"&&g&&g.valueFieldID){d("#"+g.valueFieldID).val("")}else{d(this).val("")}})};c.bulidFilterGroup=function(f){f=d(f);if(!f.length){return}var g={};d(":input",f).not(":submit, :reset, :image,:button, [disabled]").each(function(){if(!this.name){return}var k=d(this).attr("ltype");var j=d(this).attr("ligerui"),i;var l=d.trim(d(this).val());var h=this.name;if(k=="select"&&i&&i.valueFieldID){l=d("#"+i.valueFieldID).val();h=i.valueFieldID}else{if(k=="checkbox"){l=this.checked}}if(l==""){return}g[h]=l});return g};var e=function(g){var f=location.search.match(new RegExp("[?&]"+g+"=([^&]+)","i"));if(f==null||f.length<1){return""}return f[1]};c.getQueryStringByName=function(f){return e(f)};c.YMDDate=function(g){var f=new Date(g.LL);return f.getFullYear()+"-"+(f.getMonth()+1)+"-"+f.getDay()};c.getDay=function(g){var h=g.replace(/-/g,"/");var f=new Date(h);return weekArray1[f.getDay()]};c.getThisWeekDate=function(){var h=new Date();var g=h.getDay();if(g==0){g=7}var f=h.getTime()-(g-1)*24*60*60*1000;var i=h.getTime()+(7-g)*24*60*60*1000;f=new Date(f).Format("yyyy-MM-dd");i=new Date(i).Format("yyyy-MM-dd")};c.daysBetween=function(h,g){var f=(Date.parse(g)-Date.parse(h))/86400000*24;return f};c.replaceNum=function(f){return f.replace(/[^0-9]/ig,"")};c.removeChinese=function(f){return this.replace(/[\u4e00-\u9fa5]/g,"")};c.FormatDate=function(f){var h={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};if(/(y+)/.test(f)){f=f.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var g in h){if(new RegExp("("+g+")").test(f)){f=f.replace(RegExp.$1,(RegExp.$1.length==1)?(h[g]):(("00"+h[g]).substr((""+h[g]).length)))}}return f};d.fn.serializeObject=function(){var g={};var f=0;d.each(this.serializeArray(),function(j,k){var l=k.name,h=k.value;f++;g[l]=g[l]===undefined?h:d.isArray(g[l])?g[l].concat(h):[g[l],h]});return g};function b(f){if(isnull(f)===""){return""}return f=="1"?""+ctx+"/styles/img/zhuan.jpg":""+ctx+"/styles/img/jianz.jpg"}function a(g,f){if(isnull(g)===""){return""}return'<font class="fl_l '+(g==1?"f-blue":"f-prin")+'">'+f+"</font>"}c.contains=function(g){var f=this.length;while(f--){if(this[f]===g){return true}}return false};c.arrayToUrl=function(f,h,j){for(var g=j;g<h.length-1;g=g+2){if(f!=""){f+="&"}f+=h[g]+"="+h[g+1]}return f};c.isDateSame=function(m,l){for(var h=0;h<m.length;h++){var f=true;for(var g=0;g<l.length;g++){if(m[h]==l[g]){console.log("\u76f8\u540c\u7684\u65e5\u671f\u4e3a\uff1a"+m[h]);f=false}}if(f){l.push(m[h])}}console.log(l);var k="";for(var h=0;h<l.length;h++){k+=l[h]+","}return k.trimEnd(",")};c.uuid=function(f,j){var l="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");var h=[],g;j=j||l.length;if(f){for(g=0;g<f;g++){h[g]=l[0|Math.random()*j]}}else{var k;h[14]="4";for(g=0;g<36;g++){if(!h[g]){k=0|Math.random()*16;h[g]=l[(g==19)?(k&3)|8:k]}}}return h.join("")};c.showMsgTs=function(f,g){d.ligerDialog.waitting(f);setTimeout(function(){d.ligerDialog.closeWaitting();if(g){g()}},1000)}})(jQuery,window.$sHelper={});
